Карта не соответсвует реальной схеме. Роутер там стоит правильно.

`SysLog server`-а на карте нет, (там что-то не так с `File server`-ом, надо проверить что именно), `Soft switch` должен быть down (выключен). Гигабитных коммутаторов на схеме нет. А вот `Nortel коммутатор` стоит, который не может быть, потому что он является неуправляемым и соответственно не поддерживает `SNMP`. Но Nagios его почему-то видит. Nagios работает по протоколу `SNMP` (application layer). Если что-то будет не так с кабельной системой, то Nagios ничего не увидит.

**Nagios работает так:**

1. Схему в Nagios описывает администратор системы.
    
2. Вот как он ее описал, так Nagios и опрашивает.
    

В нашем случае схему описали неправильно, поэтому и опрашивать он будет неправильно.

Zabbix и OpenView работают так же. Есть Cisco NetFlow, который управляет только performance. Но она сказала, что не будет верить ни одному software решению. RMON hardware, но не поможет, так как работает только по ethernet + не видит ошибок кабельной системы. **“У Cisco есть решение по диагностике, но это не NetFlow” - подсказка Беленькой.**

У Windows есть поддрежка протоколов `SNMP` версий 1 и 2. Однако сам Менеджер не входит в поставку, его нужно покупать. (Есть Nagios, Zabbix)

**Вроде как она мне лично сказала, что при помощи Fluke можно сделать.**

### Инфа про `SNMP`
Идея: "Мы создадим софт и будем все делать на сетевых устройствах, а не на станциях или сервере. Агенты SNMP входят в состав ОС. IEEE занимается стандартами 1-3 уровней, им на SNMP все равно, его сделали разработчики интернета.

![[Pasted image 20231119225452.png]]

Менеджер SNMP - софт, который ставится на рабочей станции (7 уровень) - по сути, сервер управления. Агенты шлют сообщения менеджеру. Менеджер не входит в поставку, его покупайте. (Есть Nagios, Zabbix)

Какая инфа собирается: статистическая (что произошло на порту коммутатора 1, какое количество ошибок Ethernet было на порте 2).

**Как это будет работать.**  Агент сидит и спит, менеджер его опрашивает - команды get, set, trap и т.д.

Команда **Trap** означает то, что агент не будет ждать пока менеджер сам спросит, а сам будет замечать и отсылать сообщения в определённых ситуациях.

Чтобы работал SNMP надо чтобы работали драйверы

- UDP (передает сообщения)
    
- IP
    
- Сетевых адаптеров
    

И если на каком-то моменте это не работает, то пойму я тут «дырку от бублика». Если не работает hardware или сетевые протоколы, то SNMP работать точно не будет.

Но в действительности SNMP слабое отношение имеет к управлению (потому что он софт, и чем мы вообще будет управлять, если хард отвалится), а вот мониторинг и сбор статистики - норм. SNMP даёт хорошее представление о том, что творится в системе

Опрашивают при помощи SNMP раз в 5 минут, чтобы не ухудшать производительность системы.


[[Беленькая]], [[Управление и администрирование информационных систем]], [[Лабы]]